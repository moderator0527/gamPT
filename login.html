<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wiserlab 로그인</title>

  <!-- Pretendard -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />
  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <style>
    :root{
      --brand:#10a37f; --bg:#ffffff; --text:#111827; --muted:#6b7280; --line:#e5e7eb;
      --radius:14px; --shadow:0 6px 18px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--text);
      font-family:"Pretendard",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans KR","Apple SD Gothic Neo",Arial,sans-serif;
      display:flex;align-items:center;justify-content:center}
    .card{
      width:360px;background:#fff;border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow);
      padding:40px 30px;text-align:center
    }
    .orb{width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#8ff3da,var(--brand));
      box-shadow:0 0 14px rgba(16,163,127,.65);margin-right:8px;display:inline-block;vertical-align:middle}
    h1{font-size:20px;font-weight:800;margin:0 0 20px 0;display:flex;align-items:center;justify-content:center;gap:8px}
    p{font-size:14px;color:var(--muted);margin-bottom:28px}
    #g_id_onload, #g_id_signin{display:flex;justify-content:center}
    .hint{margin-top:24px;font-size:12px;color:var(--muted)}
    footer{position:fixed;bottom:20px;width:100%;text-align:center;color:#94a3b8;font-size:12px}
  </style>
</head>
<body>
  <div class="card">
    <h1><span class="orb"></span>와이저랩 회원 로그인</h1>
    <p>Google 계정으로 로그인하여 <br>와이저랩의 모든 서비스를 이용하세요.</p>

    <!-- Google Sign-In 버튼 -->
    <div id="g_id_onload"
      data-client_id="663579406541-ud3e1tg012nnlvm9i13fgpa387fv8s8s.apps.googleusercontent.com"
      data-context="signin"
      data-ux_mode="popup"
      data-callback="handleCredentialResponse"
      data-auto_prompt="false">
    </div>
    <div class="g_id_signin"
      data-type="standard"
      data-shape="pill"
      data-theme="outline"
      data-text="signin_with"
      data-size="large"
      data-logo_alignment="left">
    </div>

    <div class="hint">로그인 후 자동으로 이전 페이지로 이동합니다.</div>
  </div>

  <footer>© 2025 Team Wiserlab</footer>

  <script>
    function handleCredentialResponse(response) {
      // 구글 JWT 토큰(response.credential)을 디코드해서 사용자 정보 확인
      const payload = JSON.parse(atob(response.credential.split('.')[1]));
      console.log('Google 로그인 성공:', payload);

      // 예: 사용자 이름, 이메일 저장 후 index.html로 이동
      localStorage.setItem('user', JSON.stringify({
        name: payload.name,
        email: payload.email,
        picture: payload.picture
      }));
      window.location.href = "index.html"; // 로그인 후 메인 페이지로 이동
    }
  </script>
</body>
</html>
